/*! jQuery Validator - v0.1.0 - 2013-10-02
* https://github.com/cqian/jquery-validator
* Copyright (c) 2013 cqian; Licensed MIT */
!function(a,b,c,d){"use strict";function e(a){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid strict url.",number:"This value should be a valid number.",digits:"This value should be a valid digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It shold have %s characters or more.",maxlength:"This value is too long. Tt should have %s characters or less."},this.init(a)}function f(b,c,d){this.$element=a(b),this.type=d,this.options=c,this.inputs=this.options.inputs,this.focus=this.options.focus,this.scrollDuration=this.options.scrollDuration,this.items=[],this.init()}function g(b,c,d){return this.$element=a(b),this.element=b,this.options=c,this.namespace=this.options.namespace,this.animate=this.options.animate,this.animateDutation=this.options.animateDutation,this.errorClass=this.options.errorClass,this.successClass=this.options.successClass,this.errorMessage=this.options.errorMessage,this.ulTemplateClass=this.options.ulTemplateClass,this.valid=!0,this.validatedOnce=!1,this.isRequired=!1,this.constraints={},this.Verify=new e(c),"ValidatorFieldMultiple"===d?this:(this.init(b,d||"ValidatorField"),void 0)}function h(b,c,d){this.element=b,this.$element=a(b),this.options=c,this.group=this.options.group||!1,this.isRadioOrCheckbox=!0,this.namespace=this.options.namespace,this.initMultiple(),this.inheritance(),this.Verify=new e(c),this.init(b,d||"ValidatorFieldMultiple")}e.prototype={constructor:e,verifies:{type:function(a,b){var c;switch(b){case"number":c=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":c=/^\d+$/;break;case"alphanum":c=/^\w+$/;break;case"email":c=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":a=new RegExp("(https?|s?ftp|git)","i").test(a)?a:"http://"+a;break;case"urlstrict":c=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":c=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":c=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==a?c.test(a):!1},min:function(a,b){return Number(a)>=b},max:function(a,b){return Number(a)>=b},range:function(a,b){return a>=b[0]&&a<=b[1]},regexp:function(a,b,c){return new RegExp(b,c.options.regexpFlag||"").test(a)},required:function(a){if("object"==typeof a){for(var b in a)if(this.required(a[b]))return!0;return!1}return this.notnull(a)&&this.notblank(a)},minlength:function(a,b){return a.length>=b},maxlength:function(a,b){return a.length<=b},rangelength:function(a,b){return this.minlength(a,b[0])&&this.maxlength(a,b[1])},notnull:function(a){return a.length>0},notblank:function(a){return"string"==typeof a&&""!==a.replace(/^\s+/g,"").replace(/\s+$/g,"")}},init:function(a){var b,c=a.validations,d=a.messages;for(b in c)this.addValidation(b,c[b]);for(b in d)this.addMessage(b,d[b])},addValidation:function(a,b){this.verifies[a]=b},addMessage:function(a,b,c){if("undefined"!=typeof c&&c===!0)return this.message.type[a]=b,void 0;if("type"!==a)this.message[a]=b;else for(var d in b)this.message.type[d]=b[d]},formatMessage:function(a,b){if("object"==typeof b){for(var c in b)a=this.formatMessage(a,b[c]);return a}return"string"==typeof a?a.replace(new RegExp("%s","i"),b):""}},f.prototype={constructor:f,init:function(){var b=this;this.$element.find(this.inputs).each(function(){b.addItem(this)}),this.$element.on("submit."+this.type,!1,a.proxy(this.validate,this))},validate:function(){var b,d=!0;for(this.focuseField=!1,b=0;b<this.items.length;b++)"undefined"!=typeof this.items[b]&&this.items[b].validate()===!1&&(d=!1,(!this.focuseField&&"first"===this.focus||"last"===this.focus)&&(this.focuseField=this.items[b].$element));if(this.focuseField&&!d)if(this.scrollDuration>0){var e,f=this;e=this.focuseField.offset().top-a(c).height()/2,a("html, body").animate({scrollTop:e},this.scrollDuration,function(){f.focuseField.focus()})}else this.focuseField.focus();return d},addItem:function(b){var c,d=a(b);return d.is(this.options.removes)?!1:(c=d.validator(this.options),c.setParent(this),this.items.push(c),void 0)},removeItem:function(b){for(var c=a(b).validator(),d=0;d<this.items.length;d++)if(this.items[d].hash===c.hash)return this.items[d].destroy(),this.items.splice(d,1),!0;return!1},reset:function(){var a;for(a=0;a<this.items.length;a++)this.items[a].reset()},destroy:function(){var a;for(a=0;a<this.items.length;a++)this.items[a].destroy();this.$element.off("."+this.type).removeData(this.type)}},g.prototype={constructor:g,init:function(a,b){this.type=b,this.val=this.$element.val(),"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.createHash(),this.errorClassHandler=this.options.errors.classHandler(a,this.isRadioOrCheckbox)||this.$element),this.bindHtml5Constraints(),this.bindConstraints()},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0),"undefined"!=typeof this.$element.attr("type")&&new RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),new RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&(this.options.regexp=this.$element.attr("pattern"))},bindConstraints:function(){for(var a in this.options){var b={};b[a]=this.options[a],this.addConstraint(b,!0)}},addConstraint:function(a,b){for(var c in a)c=c.toLowerCase(),"undefined"!=typeof this.Verify.verifies[c]&&(this.constraints[c]={name:c,requirements:a[c],valid:null}),"required"===c&&(this.isRequired=!0),this.addCustomConstraintMessage(c);"undefined"==typeof b&&this.bindValidationEvents()},removeConstraint:function(a){var a=a.toLowerCase();return delete this.constraints[a],"required"===a&&(this.isRequired=!1),this.hasConstraints()?(this.bindValidationEvents(),void 0):(this.getParent().removeItem(this.$element),void 0)},addCustomConstraintMessage:function(a){var b;b=a+("type"===a&&"undefined"!=typeof this.options[a]?this.options[a].charAt(0).toUpperCase()+this.options[a].substr(1):"")+"Message","undefined"!=typeof this.options[b]&&this.Verify.addMessage("type"===a?this.options[a]:a,this.options[b],"type"===a)},bindValidationEvents:function(){var b;this.valid=null,this.$element.addClass(this.namespace).addClass(this.options.skin),this.$element.off("."+this.type),b=(this.options.trigger?this.options.trigger:"")+(new RegExp("keyup","i").test(this.options.trigger)?"":" keyup"),this.$element.is("select")&&(b+=new RegExp("change","i").test(b)?"":" change"),b=b.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((b+" ").split(" ").join("."+this.type+" "),!1,a.proxy(this.eventValidation,this))},eventValidation:function(a){var b=this.getValue();return"keyup"!==a.type||/keyup/i.test(this.options.trigger)||this.validatedOnce?"change"!==a.type||/change/i.test(this.options.trigger)||this.validatedOnce?!this.isRadioOrCheckbox&&this.getLength(b)<this.options.validationMinlength&&!this.validatedOnce?!0:(this.validate(),void 0):!0:!0},validate:function(a){var b=this.getValue(),c=null;return this.existConstraints()?this.needToValidation(b)?(c=this.applyValidation(),("undefined"!=typeof a?a:this.options.showErrors)&&this.manageValidationResult(),c):this.valid:null},applyValidation:function(){var a=null;for(var b in this.constraints){var c=this.Verify.verifies[this.constraints[b].name](this.val,this.constraints[b].requirements,this);return c===!1?(a=!1,this.constraints[b].valid=a):c===!0&&(this.constraints[b].valid=!0,a=a!==!1),a}},manageValidationResult:function(){var a,b=null;for(a in this.constraints)this.constraints[a].valid===!1?(this.manageError(this.constraints[a]),b=!1):this.constraints[a].valid===!0&&(this.removeError(this.constraints[a].name),b=b!==b);return this.valid=b,this.valid===!0?(this.removeAllErrors(),this.errorClassHandler.removeClass(this.errorClass).addClass(this.successClass),!0):this.valid===!1?(this.errorClassHandler.removeClass(this.successClass).addClass(this.errorClass),!1):(this.ulError&&0===this.ulError.children().length&&this.removeAllErrors(),b)},existConstraints:function(){var a;for(a in this.constraints)return!0;return!1},needToValidation:function(a){return!this.options.validateIfUnchanged&&this.val===a&&null!==this.valid&&this.validatedOnce?!1:(this.val=a,this.validatedOnce=!0)},manageError:function(b){var c,d,e,f={};return d=b.name,e=this.errorMessage!==!1?"custom-error-message":d,c=this.errorMessage!==!1?this.errorMessage:"type"===b.name?this.Verify.messages[d][b.requirements]:"undefined"==typeof this.Verify.messages[d]?this.Verify.messages.defaultMessage:this.Verify.formatMessage(this.Verify.messages[d],b.requirements),a(this.ulError+" ."+e).length||(f[e]=c,this.addError(f)),a(this.ulError).length||this.manageErrorContainer(),"required"===b.name&&null!==this.getValue()&&this.getValue.length>0?void 0:!this.isRequired||"required"===b.name||null!==this.getValue()&&0!==this.getValue().length?void 0:(this.removeError(b.name),void 0)},manageErrorContainer:function(){var b,c;return b=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),c=this.animate?this.ulTemplate.show():this.ulTemplate,"undefined"!=typeof b?(a(b).append(c),void 0):(this.isRadioOrCheckbox?this.$element.parent().after(c):this.$element.after(c),void 0)},addError:function(b){for(var c in b){var d=a(this.options.errors.errorsElem).addClass(c);a(this.ulError).append(this.animate?a(d).html(b[c]).hide().fadeIn(this.options.animateDutation):a(d).html(b[c]))}},removeError:function(b){var c=this.ulError+" ."+b,d=this;this.animate?a(c).fadeOut(this.animateDutation,function(){a(this).remove(),d.ulError&&0===a(d.ulError).children().length&&d.removeAllErrors()}):a(c).remove()},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=a(this.options.errors.errorsWrap).attr("id",this.hash).addClass(this.ulTemplateClass)},createHash:function(){return"validator-"+(Math.random()+"").substring(2)},removeAllErrors:function(){this.animate?a(this.ulError).fadeOut(this.animateDutation,function(){a(this).remove()}):a(this.ulError).remove()},getLength:function(a){return a&&a.hasOwnProperty("length")?a.length:0},getValue:function(){return this.$element.data("value")||this.$element.val()},setParent:function(b){this.$parent=a(b)},getParent:function(){return this.$parent},getHash:function(){return this.hash},reset:function(){this.valid=null,this.removeAllErrors(),this.validatedOnce=!1,this.errorClassHandler.removeClass(this.successClass).removeClass(this.errorClass);for(var a in this.constraints)this.constraints[a].valid=null;return this},destroy:function(){this.$element.removeClass(this.namespace),this.reset().$element.off("."+this.type).removeData(this.type)}},h.prototype={constructor:h,initMultiple:function(){this.hash=this.getName(),this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.errorClassHandler=this.options.errors.classHandler(this.element,this.isRadioOrCheckbox)||this.$element.parent()},inheritance:function(){var a,b;a=new g(this.element,this.options,h);for(b in a)"undefined"==typeof this[b]&&(this[b]=a[b])},getName:function(){if(this.group)return"validator-"+this.group;if("undefined"==typeof this.$element.attr("name"))throw"A radio or checkbox input must have data-group attribute or a name to be validate";return"validator-"+this.$element.attr("name").replace(/(:|\.|\[|]\])/g,"")},getValue:function(){if(this.isRadio)return a(this.siblings+":checked").val();if(this.isCheckbox){var b=[];return a(this.siblings+":checked").each(function(){b.push(a(this).val())}),b}},bindValidationEvents:function(){var b,c=this;this.valid=null,this.$element.addClass(this.namespace),this.$element.off("."+this.type),b=(this.options.trigger?this.options.trigger:"")+(new RegExp("change","i").test(this.options.trigger)?"":" change"),b=b.replace(/^\s+/g,"").replace(/\s+$/g,""),a(this.siblings).each(function(){a(this).on(b.split(" ").join("."+c.type+" "),!1,a.proxy(c.eventValidation,c))})}};var i=a.validator=function(b,c){this.$element=a(b),this.element=b,this.newInstance=null,this.options=a.extend(!0,{},i.defaults,c),this.namespace=this.options.namespace,this.inputs=this.options.inputs,this.removes=this.options.removes,this.radioOrCheckbox=this.options.radioOrCheckbox,this.init()};i.prototype={constructor:i,init:function(){this.whichType(this.element)},whichType:function(b){var c=a(b);return c.is("form")||c.data("bind")===!0?this.newInstance=this.bind(c,"validatorForm"):c.is(this.inputs)&&!c.is(this.removes)&&(this.newInstance=this.bind(c,c.is(this.radioOrCheckbox)?"validatorFieldMultiple":"validatorField")),this.newInstance},bind:function(b,c){var d=a(b).data(c);if(!d){switch(c){case"validatorForm":d=new f(b,this.options,"validatorForm");break;case"validatorField":d=new g(b,this.options,"validatorField");break;case"validatorFieldMultiple":d=new h(b,this.options,"validatorFieldMultiple");break;default:return}a(b).data(c,d)}return d},distroy:function(){}},i.defaults={namespace:"validator",skin:null,successClass:"validator_success",errorClass:"validator_error",inputs:"input, textarea, select",radioOrCheckbox:"input[type=radio], input[type=checkbox]",removes:"input[type=hidden], input[type=file]",trigger:!1,animate:!0,animateDutation:300,scrollDuration:500,focus:"first",validationMinlength:3,validateIfUnchanged:!1,errorMessage:!1,showErrors:!0,errors:{errorsWrap:"<ul></ul>",errorsElem:"<li></li>",classHandler:function(){},container:function(){}},ulTemplateClass:"validator-error-list",validations:{},messages:{}},a.fn.validator=function(b){if("string"==typeof b){var c=b,e=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var b=a.data(this,"validator");"function"==typeof b[c]&&b[c].apply(b,e)})}a(this).data("validator")||a(this).data("validator",new i(this,b))}}(jQuery,document,window);